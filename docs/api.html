
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Swagger UI</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro:300,600|Titillium+Web:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.18.3/swagger-ui.css" >
  <style>
    html
    {
      box-sizing: border-box;
      overflow: -moz-scrollbars-vertical;
      overflow-y: scroll;
    }
    *,
    *:before,
    *:after
    {
      box-sizing: inherit;
    }
    body {
      margin:0;
      background: #fafafa;
    }
  </style>
</head>
<body>
<div id="swagger-ui"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.18.3/swagger-ui-bundle.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.18.3/swagger-ui-standalone-preset.js"> </script>
<script>
window.onload = function() {
  var spec = {"basePath": "/", "host": "localhost:3344", "info": {"description": "Backend of repo https://github.com/vidorg/vid_vue", "license": {"name": "MIT", "url": "https://github.com/vidorg/vid_backend/blob/master/LICENSE"}, "termsOfService": "https://github.com/vidorg", "title": "vid backend", "version": "1.1"}, "paths": {"/auth/": {"get": {"consumes": ["multipart/form-data"], "description": "\u6839\u636e\u8ba4\u8bc1 token \u67e5\u770b\u5f53\u524d\u7528\u6237\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request form data error |\n| 401 | authorization failed |\n| 401 | token has expired | ", "operationId": "-auth-get", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"uid\": 10,\n    \"username\": \"aoihosizora\",\n    \"sex\": \"unknown\",\n    \"profile\": \"\",\n    \"avatar_url\": \"\",\n    \"birth_time\": \"2000-01-01\",\n    \"authority\": \"normal\"\n  }\n}\n```"}}, "summary": "\u67e5\u770b\u5f53\u524d\u7528\u6237"}}, "/auth/login": {"post": {"consumes": ["multipart/form-data"], "description": "\u7528\u6237\u767b\u5f55\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request form data error |\n| 401 | password error |\n| 404 | user not found |\n| 500 | login failed | ", "operationId": "-auth-login-post", "parameters": [{"description": "\u7528\u6237\u540d", "in": "formData", "name": "username", "required": true, "type": "string"}, {"description": "\u7528\u6237\u5bc6\u7801", "in": "formData", "name": "password", "required": true, "type": "string"}, {"description": "\u767b\u5f55\u6709\u6548\u671f\uff0c\u9ed8\u8ba4\u4e00\u4e2a\u5c0f\u65f6", "in": "formData", "name": "expire", "required": false, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"user\": {\n      \"uid\": 10,\n      \"username\": \"aoihosizora\",\n      \"sex\": \"unknown\",\n      \"profile\": \"\",\n      \"avatar_url\": \"\",\n      \"birth_time\": \"2000-01-01\",\n      \"authority\": \"normal\"\n    },\n    \"token\": \"Bearer xxx\"\n  }\n}\n```"}}, "summary": "\u767b\u5f55"}}, "/auth/pass": {"post": {"consumes": ["multipart/form-data"], "description": "\u7528\u6237\u4fee\u6539\u5bc6\u7801\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request form data error |\n| 400 | request format error |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | user not found |\n| 500 | update password failed | ", "operationId": "-auth-pass-post", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u7528\u6237\u65b0\u5bc6\u7801", "in": "formData", "name": "password", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"uid\": 10,\n    \"username\": \"aoihosizora\",\n    \"sex\": \"unknown\",\n    \"profile\": \"\",\n    \"avatar_url\": \"\",\n    \"birth_time\": \"2000-01-01\",\n    \"authority\": \"normal\"\n  }\n}\n```"}}, "summary": "\u4fee\u6539\u5bc6\u7801"}}, "/auth/register": {"post": {"consumes": ["multipart/form-data"], "description": "\u7528\u6237\u6ce8\u518c\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request form data error |\n| 400 | request format error |\n| 500 | username duplicated |\n| 500 | register failed | ", "operationId": "-auth-register-post", "parameters": [{"description": "\u7528\u6237\u540d", "in": "formData", "name": "username", "required": true, "type": "string"}, {"description": "\u7528\u6237\u5bc6\u7801", "in": "formData", "name": "password", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"uid\": 10,\n    \"username\": \"aoihosizora\",\n    \"sex\": \"unknown\",\n    \"profile\": \"\",\n    \"avatar_url\": \"\",\n    \"birth_time\": \"2000-01-01\",\n    \"authority\": \"normal\"\n  }\n}\n```"}}, "summary": "\u6ce8\u518c"}}, "/user/": {"delete": {"consumes": ["multipart/form-data"], "description": "\u5220\u9664\u7528\u6237\u6240\u6709\u4fe1\u606f\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | user not found |\n| 404 | user delete failed | ", "operationId": "-user-delete", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\"\n}\n```"}}, "summary": "\u5220\u9664\u7528\u6237"}, "put": {"consumes": ["multipart/form-data"], "description": "\u66f4\u65b0\u7528\u6237\u4fe1\u606f\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request format error |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | user not found |\n| 500 | username duplicated |\n| 500 | user update failed |", "operationId": "-user-put", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u65b0\u7528\u6237\u540d", "in": "formData", "name": "username", "required": false, "type": "string"}, {"description": "\u65b0\u7528\u6237\u6027\u522b\uff0c\u53ea\u5141\u8bb8\u4e3a (male, female, unknown)", "in": "formData", "name": "sex", "required": false, "type": "string"}, {"description": "\u65b0\u7528\u6237\u7b80\u4ecb", "in": "formData", "name": "profile", "required": false, "type": "string"}, {"description": "\u65b0\u7528\u6237\u751f\u65e5\uff0c\u56fa\u5b9a\u683c\u5f0f\u4e3a 2000-01-01", "in": "formData", "name": "birth_time", "required": false, "type": "string"}, {"description": "\u65b0\u7528\u6237\u7535\u8bdd\u53f7\u7801", "in": "formData", "name": "phone_number", "required": false, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"uid\": 10,\n    \"username\": \"aoihosizora\",\n    \"sex\": \"male\",\n    \"profile\": \"Demo Profile\",\n    \"avatar_url\": \"\",\n    \"birth_time\": \"2019-12-18\",\n    \"authority\": \"admin\"\n  }\n}\n```"}}, "summary": "\u66f4\u65b0\u7528\u6237"}}, "/user/sub?uid": {"post": {"consumes": ["multipart/form-data"], "description": "\u5173\u6ce8\u67d0\u4e00\u7528\u6237\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request query param error |\n| 400 | subscribe oneself invalid |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | user not found |\n| 500 | subscribe failed | ", "operationId": "-user-sub?uid-post", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u5bf9\u65b9\u7528\u6237 id", "in": "query", "name": "uid", "required": true, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"me\": 10,\n    \"up\": 3,\n    \"action\": \"subscribe\"\n  }\n}\n```"}}, "summary": "\u5173\u6ce8\u7528\u6237"}}, "/user/unsub?uid": {"post": {"consumes": ["multipart/form-data"], "description": "\u53d6\u6d88\u5173\u6ce8\u67d0\u4e00\u7528\u6237\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request query param error |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | user not found |\n| 500 | unsubscribe failed | ", "operationId": "-user-unsub?uid-post", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u5bf9\u65b9\u7528\u6237 id", "in": "query", "name": "uid", "required": true, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"me\": 10,\n    \"up\": 3,\n    \"action\": \"unsubscribe\"\n  }\n}\n```"}}, "summary": "\u53d6\u6d88\u5173\u6ce8\u7528\u6237"}}, "/user/{uid}": {"get": {"consumes": ["multipart/form-data"], "description": "\u67e5\u8be2\u7528\u6237\u4fe1\u606f\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 404 | user not found | ", "operationId": "-user-{uid}-get", "parameters": [{"description": "\u7528\u6237 id", "in": "path", "name": "uid", "required": true, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"user\": {\n      \"uid\": 10,\n      \"username\": \"aoihosizora\",\n      \"sex\": \"unknown\",\n      \"profile\": \"\",\n      \"avatar_url\": \"\",\n      \"birth_time\": \"2000-01-01\",\n      \"authority\": \"admin\"\n    },\n    \"extra\": {\n      \"subscribing_cnt\": 1,\n      \"subscriber_cnt\": 2,\n      \"video_cnt\": 0,\n      \"playlist_cnt\": 0\n    }\n  }\n}\n```"}}, "summary": "\u67e5\u8be2\u7528\u6237"}}, "/user/{uid}/subscriber": {"get": {"consumes": ["multipart/form-data"], "description": "\u67e5\u8be2\u7528\u6237\u6240\u6709\u7c89\u4e1d\uff0c\u8fd4\u56de\u5206\u9875\u6570\u636e\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 404 | user not found | ", "operationId": "-user-{uid}-subscriber-get", "parameters": [{"description": "\u6240\u67e5\u8be2\u7684\u7528\u6237 id", "in": "path", "name": "uid", "required": true, "type": "integer"}, {"description": "\u5206\u9875", "in": "query", "name": "page", "required": false, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 2,\n        \"username\": \"User2\",\n        \"sex\": \"unknown\",\n        \"profile\": \"\",\n        \"avatar_url\": \"\",\n        \"birth_time\": \"2000-01-01\",\n        \"authority\": \"normal\"\n      }\n    ]\n  }\n}\n```"}}, "summary": "\u7528\u6237\u7c89\u4e1d"}}, "/user/{uid}/subscribing": {"get": {"consumes": ["multipart/form-data"], "description": "\u67e5\u8be2\u7528\u6237\u6240\u6709\u5173\u6ce8\uff0c\u8fd4\u56de\u5206\u9875\u6570\u636e\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 404 | user not found | ", "operationId": "-user-{uid}-subscribing-get", "parameters": [{"description": "\u6240\u67e5\u8be2\u7684\u7528\u6237 id", "in": "path", "name": "uid", "required": true, "type": "integer"}, {"description": "\u5206\u9875", "in": "query", "name": "page", "required": false, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 1,\n        \"username\": \"User1\",\n        \"sex\": \"male\",\n        \"profile\": \"\",\n        \"avatar_url\": \"\",\n        \"birth_time\": \"2000-01-01\",\n        \"authority\": \"admin\"\n      }\n    ]\n  }\n}\n```"}}, "summary": "\u7528\u6237\u5173\u6ce8"}}, "/user?page": {"get": {"consumes": ["multipart/form-data"], "description": "\u7ba1\u7406\u5458\u67e5\u8be2\u6240\u6709\u7528\u6237\uff0c\u8fd4\u56de\u5206\u9875\u6570\u636e\uff0cAdmin\n\n| code | message |\n| --- | --- |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 401 | need admin authority | ", "operationId": "-user?page-get", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u5206\u9875", "in": "query", "name": "page", "required": false, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {\n    \"count\": 1,\n    \"page\": 1,\n    \"data\": [\n      {\n        \"uid\": 1,\n        \"username\": \"User1\",\n        \"sex\": \"male\",\n        \"profile\": \"\",\n        \"avatar_url\": \"\",\n        \"birth_time\": \"2000-01-01\",\n        \"authority\": \"admin\"\n      }\n    ]\n  }\n}\n```"}}, "summary": "\u67e5\u8be2\u6240\u6709\u7528\u6237"}}, "/video/": {"post": {"consumes": ["multipart/form-data"], "description": "\u65b0\u5efa\u7528\u6237\u89c6\u9891\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request form data error |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 500 | video existed failed |\n| 401 | video insert failed | ", "operationId": "-video-post", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u89c6\u9891\u6807\u9898", "in": "formData", "name": "title", "required": true, "type": "string"}, {"description": "\u89c6\u9891\u7b80\u4ecb", "in": "formData", "name": "description", "required": true, "type": "string"}, {"description": "\u89c6\u9891\u8d44\u6e90\u94fe\u63a5", "in": "formData", "name": "video_url", "required": true, "type": "string"}, {"description": "\u89c6\u9891\u5c01\u9762\u94fe\u63a5", "in": "formData", "name": "cover_url", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {}\n}\n```"}}, "summary": "\u65b0\u5efa\u89c6\u9891"}}, "/video/uid/{uid}?page": {"get": {"consumes": ["multipart/form-data"], "description": "\u67e5\u8be2\u4f5c\u8005\u4e3a\u7528\u6237\u7684\u6240\u6709\u89c6\u9891\uff0c\u8fd4\u56de\u5206\u9875\u6570\u636e\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 404 | user not found | ", "operationId": "-video-uid-{uid}?page-get", "parameters": [{"description": "\u7528\u6237 id", "in": "path", "name": "uid", "required": true, "type": "integer"}, {"description": "\u5206\u9875", "in": "query", "name": "page", "required": false, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {}\n}\n```"}}, "summary": "\u67e5\u8be2\u7528\u6237\u89c6\u9891"}}, "/video/vid/{vid}": {"get": {"consumes": ["multipart/form-data"], "description": "\u67e5\u8be2\u89c6\u9891\u4fe1\u606f\uff0cNon-Auth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 404 | video not found | ", "operationId": "-video-vid-{vid}-get", "parameters": [{"description": "\u89c6\u9891 id", "in": "path", "name": "vid", "required": true, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {}\n}\n```"}}, "summary": "\u67e5\u8be2\u89c6\u9891"}}, "/video/{vid}": {"delete": {"consumes": ["multipart/form-data"], "description": "\u5220\u9664\u7528\u6237\u89c6\u9891\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | video not found |\n| 500 | video delete failed | ", "operationId": "-video-{vid}-delete", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u5220\u9664\u89c6\u9891 id", "in": "path", "name": "vid", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {}\n}\n```"}}, "summary": "\u5220\u9664\u89c6\u9891"}, "post": {"consumes": ["multipart/form-data"], "description": "\u66f4\u65b0\u7528\u6237\u89c6\u9891\u4fe1\u606f\uff0cAuth\n\n| code | message |\n| --- | --- |\n| 400 | request route param error |\n| 400 | request format error |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 404 | video not found |\n| 404 | video update failed | ", "operationId": "-video-{vid}-post", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u66f4\u65b0\u89c6\u9891 id", "in": "path", "name": "vid", "required": true, "type": "string"}, {"description": "\u89c6\u9891\u65b0\u6807\u9898", "in": "formData", "name": "title", "required": false, "type": "string"}, {"description": "\u89c6\u9891\u65b0\u7b80\u4ecb", "in": "formData", "name": "description", "required": false, "type": "string"}, {"description": "\u89c6\u9891\u65b0\u8d44\u6e90\u94fe\u63a5", "in": "formData", "name": "video_url", "required": false, "type": "string"}, {"description": "\u89c6\u9891\u65b0\u5c01\u9762\u94fe\u63a5", "in": "formData", "name": "cover_url", "required": false, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {}\n}\n```"}}, "summary": "\u66f4\u65b0\u89c6\u9891"}}, "/video?page": {"get": {"consumes": ["multipart/form-data"], "description": "\u7ba1\u7406\u5458\u67e5\u8be2\u6240\u6709\u89c6\u9891\uff0c\u8fd4\u56de\u5206\u9875\u6570\u636e\uff0cAdmin\n\n| code | message |\n| --- | --- |\n| 401 | authorization failed |\n| 401 | token has expired |\n| 401 | need admin authority | ", "operationId": "-video?page-get", "parameters": [{"description": "\u7528\u6237 Token", "in": "header", "name": "Authorization", "required": true, "type": "string"}, {"description": "\u5206\u9875", "in": "query", "name": "page", "required": false, "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "```json\n{\n  \"code\": 200,\n  \"message\": \"Success\",\n  \"data\": {}\n}\n```"}}, "summary": "\u67e5\u8be2\u6240\u6709\u89c6\u9891"}}}, "swagger": "2.0"};
  // Build a system
  const ui = SwaggerUIBundle({
    spec: spec,
    dom_id: '#swagger-ui',
    deepLinking: true,
    presets: [
      SwaggerUIBundle.presets.apis,
      SwaggerUIStandalonePreset
    ],
    plugins: [
      SwaggerUIBundle.plugins.DownloadUrl
    ],
    layout: "StandaloneLayout"
  })
  window.ui = ui
}
</script>
</body>
</html>
